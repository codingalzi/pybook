
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>15. 파일 &#8212; 파이썬 프로그래밍 기초</title>
    
  <link href="_static/css/theme.css" rel="stylesheet">
  <link href="_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="16. 모듈" href="modules.html" />
    <link rel="prev" title="14. 모음 자료형 3부: 이터러블, 이터레이터, 제너레이터" href="collections3.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      
      
      <h1 class="site-logo" id="site-title">파이썬 프로그래밍 기초</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="programming.html">
   1. 컴퓨터 프로그래밍
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="environment.html">
   2. 프로그래밍 개발 환경
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="starting.html">
   3. 프로그래밍 시작하기
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="variables_expressions.html">
   4. 변수, 값, 표현식, 명령문
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="casestudy_planning.html">
   5. 사례 연구: 프로그램 구상
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="datatypes.html">
   6. 기본자료형
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="functions.html">
   7. 함수
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="casestudy_function_interfaces.html">
   8. 사례 연구: 함수 인터페이스
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="conditionals.html">
   9. 조건문
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="recursion.html">
   10. 재귀 함수
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="iterations.html">
   11. 반복문
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="collections1.html">
   12. 모음 자료형 1부: 문자열, 리스트, 튜플
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="collections2.html">
   13. 모음 자료형 2부: 집합, 사전,
   <code class="docutils literal notranslate">
    <span class="pre">
     range
    </span>
   </code>
   , 조건제시법
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="collections3.html">
   14. 모음 자료형 3부: 이터러블, 이터레이터, 제너레이터
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   15. 파일
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="modules.html">
   16. 모듈
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="oop.html">
   17. 객체 지향 프로그래밍
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="proper_classes.html">
   18. 클래스의 기본 요소
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="inheritance.html">
   19. 상속
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="casestudy_game_programming.html">
   20. 사례 연구: 게임 프로그래밍
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="type_annotations.html">
   21. 자료형 힌트
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/files.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/codingalzi/pybook"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/codingalzi/pybook/issues/new?title=Issue%20on%20page%20%2Ffiles.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/codingalzi/pybook/master?urlpath=tree/jupyter-book/files.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id2">
   15.1. 파일 준비
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id3">
   15.2. 리스트 활용
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id4">
     15.2.1. 리스트 자료형 간략 소개
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id5">
   15.3. 점수 확인하기
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id6">
     15.3.1. 1등 점수 확인하기
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id7">
     15.3.2. 2등, 3등 점수 확인하기
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id8">
     15.3.3. 프로그램 구상 문제
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id9">
   15.4. 프로그램 업그레이드 1: 리스트 정렬 활용
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id10">
     15.4.1. 리스트 풀어 헤치기
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id11">
     15.4.2. 리스트 정렬
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id12">
     15.4.3. 1, 2, 3 등 확인하기
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id13">
   15.5. 프로그램 업그레이드 2: 함수 활용
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id14">
     15.5.1. 프로그램 구상
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id15">
     15.5.2. 함수 일반화
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id16">
   15.6. 심화예제
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id17">
     15.6.1. 당근 개체수의 최대값 구하기
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id18">
     15.6.2. 함수화
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id19">
   15.7. 연습문제
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>파일</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id2">
   15.1. 파일 준비
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id3">
   15.2. 리스트 활용
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id4">
     15.2.1. 리스트 자료형 간략 소개
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id5">
   15.3. 점수 확인하기
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id6">
     15.3.1. 1등 점수 확인하기
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id7">
     15.3.2. 2등, 3등 점수 확인하기
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id8">
     15.3.3. 프로그램 구상 문제
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id9">
   15.4. 프로그램 업그레이드 1: 리스트 정렬 활용
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id10">
     15.4.1. 리스트 풀어 헤치기
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id11">
     15.4.2. 리스트 정렬
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id12">
     15.4.3. 1, 2, 3 등 확인하기
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id13">
   15.5. 프로그램 업그레이드 2: 함수 활용
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id14">
     15.5.1. 프로그램 구상
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id15">
     15.5.2. 함수 일반화
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id16">
   15.6. 심화예제
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id17">
     15.6.1. 당근 개체수의 최대값 구하기
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id18">
     15.6.2. 함수화
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id19">
   15.7. 연습문제
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="ch-files">
<span id="id1"></span><h1><span class="section-number">15. </span>파일<a class="headerlink" href="#ch-files" title="Permalink to this headline">¶</a></h1>
<p>다이빙 선수 열 명의 5m 다이빙 경기의 점수 데이터를 저장한 파일
<a class="reference external" href="https://raw.githubusercontent.com/codingalzi/pybook/master/jupyter-book/data/results5m.txt">results5m.txt</a>
를 에서 필요한 정보를 추출하는 과정을 살펴본다.</p>
<p><code class="docutils literal notranslate"><span class="pre">results5m.txt</span></code> 파일의 내용은 다음과 같이 첫째 줄엔 ‘이름’과 ‘점수’라는 구분이 표시되어 있으며,
둘째 줄부터 총 열 명의 이름과 점수가 기록되어 있다.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">이름</span>  <span class="n">점수</span>
<span class="n">권준기</span>  <span class="mf">7.13</span>
<span class="n">김세윤</span>  <span class="mf">8.55</span>
<span class="n">나진서</span>  <span class="mf">9.02</span>
<span class="n">마동탁</span>  <span class="mf">8.35</span>
<span class="n">서길석</span>  <span class="mf">7.86</span>
<span class="n">이준용</span>  <span class="mf">8.17</span>
<span class="n">이차승</span>  <span class="mf">9.33</span>
<span class="n">차승연</span>  <span class="mf">7.11</span>
<span class="n">표방호</span>  <span class="mf">8.57</span>
<span class="n">한석준</span>  <span class="mf">8.93</span>
</pre></div>
</div>
<div class="section" id="id2">
<h2><span class="section-number">15.1. </span>파일 준비<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>먼저 위에서 언급된 파일을 다운 받아서 파이썬 코딩을 실습하는 폴더에 저장한다.
여기서는 <code class="docutils literal notranslate"><span class="pre">data</span></code>라는 하위폴더에 <code class="docutils literal notranslate"><span class="pre">results5m.txt</span></code>라는 파일로 저장한다.</p>
<p><strong><code class="docutils literal notranslate"><span class="pre">pathlib.Path</span></code> 클래스: 디렉토리 지정</strong></p>
<p>파일을 저장할 디렉토리(폴더)를 지정하고 필요하면 새로 생성한다.
이를 위해 <code class="docutils literal notranslate"><span class="pre">pathlib</span></code> 모듈의 <code class="docutils literal notranslate"><span class="pre">Path</span></code> 클래스를 이용한다.
디렉토리의 경로를 지정하면 <code class="docutils literal notranslate"><span class="pre">Path</span></code> 클래스는 해당 디렉토리 또는 파일의 경로를 담은 객체를 생성한다.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Path()</span></code> : 현재 디렉토리를 나타내는 객체. <code class="docutils literal notranslate"><span class="pre">Path('.')</span></code> 과 동일한 의미임.</p></li>
<li><p>슬래시 연산자 <code class="docutils literal notranslate"><span class="pre">/</span></code>: 두 개의 경로를 이어붙히는 연산자. 왼쪽 인자는 <code class="docutils literal notranslate"><span class="pre">Path</span></code> 객체, 둘째 인자는 문자열.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>

<span class="n">Data_Path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">()</span> <span class="o">/</span> <span class="s2">&quot;data&quot;</span>
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Path</span></code> 객체는 다양한 정보를 다루는 메서드와 속성을 제공한다.
예를 들어, 현재 작업 디렉토리(current working directory)를 확인하려면 <code class="docutils literal notranslate"><span class="pre">cwd()</span></code> 메서드를 실행한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Data_Path</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>PosixPath(&#39;/home/gslee/Documents/GitHub/pybook/jupyter-book&#39;)
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">name</span></code> 속성은 상위 디렉토리 이름을 제거한 디렉토리 또는 파일 이름을 저장한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Data_Path</span><span class="o">.</span><span class="n">name</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;data&#39;
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">parent</span></code> 속성은 부모 디렉토리의 이름을 저장한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Data_Path</span><span class="o">.</span><span class="n">parent</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>PosixPath(&#39;.&#39;)
</pre></div>
</div>
</div>
</div>
<p><strong><code class="docutils literal notranslate"><span class="pre">Path.mkdir()</span></code> 메서드: 디렉토리 생성</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">Path</span></code> 객체의 <code class="docutils literal notranslate"><span class="pre">mkdir()</span></code> 메서드를 이용하여 지정된 디렉토리를 실제 생성한다.
다음 두 개의 옵션 인자를 사용한다.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">parent=True</span></code>: 부모 디렉토리가 필요하면 생성할 것.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">exist_ok</span> <span class="pre">=</span> <span class="pre">True</span></code>: 디렉토리 이미 존재하면 그대로 사용할 것.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Data_Path</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><strong><code class="docutils literal notranslate"><span class="pre">urllib.request.urlretrieve()</span></code> 함수: 파일 다운로드</strong></p>
<p>인터넷에 존재하는 파일을 지정된 이름으로 다운로드 한다.
이를 위해 <code class="docutils literal notranslate"><span class="pre">urllib.request</span></code> 모듈의 <code class="docutils literal notranslate"><span class="pre">urlretrieve()</span></code> 함수를 이용한다.</p>
<ul class="simple">
<li><p>첫째 인자: 다운로드할 파일 주소</p></li>
<li><p>둘째 인자: 저장할 디렉토리와 파일명으로 구성된 경로</p></li>
<li><p>반환값: 저장된 파일의 경로와 다운로드한 웹브라우저 등에 대한 정로 구성된 튜플.
파일 경로에 표시되는
<code class="docutils literal notranslate"><span class="pre">PosixPath</span></code> 또는 <code class="docutils literal notranslate"><span class="pre">WindowsPath</span></code> 는 각각 리눅스 계열 방식의 경로와 윈도우 방식의 경로를 가리킨다.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">urllib.request</span>

<span class="n">source_url</span> <span class="o">=</span> <span class="s2">&quot;https://raw.githubusercontent.com/codingalzi/pybook/master/jupyter-book/data/results5m.txt&quot;</span>
<span class="n">target_path</span> <span class="o">=</span> <span class="n">Data_Path</span> <span class="o">/</span> <span class="s2">&quot;results5m.txt&quot;</span>

<span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">urlretrieve</span><span class="p">(</span><span class="n">source_url</span><span class="p">,</span> <span class="n">target_path</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(PosixPath(&#39;data/results5m.txt&#39;), &lt;http.client.HTTPMessage at 0x7fd27c5b5a30&gt;)
</pre></div>
</div>
</div>
</div>
<p><strong><code class="docutils literal notranslate"><span class="pre">open()</span></code> 함수: 저장된 파일 불러오기</strong></p>
<p>저장된 파일을 활용하려면 먼저 불러와야(loading) 한다.
가장 기본적인 방식으로 <code class="docutils literal notranslate"><span class="pre">open()</span></code> 함수를 이용하여
불러온 파일 객체를 변수에 할당한다.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">파일경로</span><span class="p">)</span> 
</pre></div>
</div>
<p>하지만 다운로드가 잘못 되었거나 다른 곳에 저장되어 있다면 오류가 발생한다.
따라서 코드의 안전할 실행을 위해 많은 경우 다음처럼 <code class="docutils literal notranslate"><span class="pre">try-except</span></code> 명령문을
이용하여 예외처리를 하기도 한다.
<code class="docutils literal notranslate"><span class="pre">FileNotFoundError</span></code> 는 지정된 파일이 존재하지 않을 때 발생하는 오류를 가리킨다.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">파일경로</span><span class="p">)</span> 
<span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;열고자 하는 파일이 존재하지 않습니다.&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>여기서는 그냥 간단한 버전을 사용한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">result_f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">target_path</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><strong>불러온 파일 내용 확인</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">result_f</span></code> 변수가 가리키는 값의 자료형은 <code class="docutils literal notranslate"><span class="pre">_io.TextIOWrapper</span></code> 라는
이름도 생소한 자료형이다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">result_f</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>_io.TextIOWrapper
</pre></div>
</div>
</div>
</div>
<p>하지만 자료형은 전혀 중요하지 않다.
다만 텍스트 파일의 내용을 저장하고 있다와
저장된 내용을 확인하려면 아래와 같이 <code class="docutils literal notranslate"><span class="pre">for</span></code> 반복문을
사용해야 한다는 점은 기억해야 한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">result_f</span><span class="p">:</span>                   <span class="c1"># 각 줄 내용 출력하기</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>이름  점수

권준기  7.13

김세윤  8.55

나진서  9.02

마동탁  8.35

서길석  7.86

이준용  8.17

이차승  9.33

차승연  7.11

표방호  8.57

한석준  8.93
</pre></div>
</div>
</div>
</div>
<p>그런데 불러온 파일 객체는 한 번만 사용할 수 있는 이터레이터이다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">collections.abc</span> <span class="kn">import</span> <span class="n">Iterator</span>

<span class="nb">isinstance</span><span class="p">(</span><span class="n">result_f</span><span class="p">,</span> <span class="n">Iterator</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">result_f</span><span class="p">:</span>                   <span class="c1"># 각 줄 내용 출력하기</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>불러온 파일을 다 사용했으면 닫아 주어야 하며, 파일을 닫으면 더 이상 활용할 수 없다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">result_f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p><strong><code class="docutils literal notranslate"><span class="pre">with-as</span></code> 키워드 활용</strong></p>
<p>파일을 불러오고 할 일을 다하면 파일 닫기를 자동으로 처리하는 다음 방식으로 진행하는 것이 권장된다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;./data/results5m.txt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">result_f</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">result_f</span><span class="p">:</span> 
        <span class="nb">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>이름  점수

권준기  7.13

김세윤  8.55

나진서  9.02

마동탁  8.35

서길석  7.86

이준용  8.17

이차승  9.33

차승연  7.11

표방호  8.57

한석준  8.93
</pre></div>
</div>
</div>
</div>
<p>줄 사이가 넓은 이유는 파일을 작성하면서 줄바꾸기를 할 때 사용하는 엔터에 의해 줄바꾸기 기호(<code class="docutils literal notranslate"><span class="pre">\n</span></code>)가
각 줄의 맨 끝에 포함되어 있기 때문이다.
<code class="docutils literal notranslate"><span class="pre">print()</span></code> 함수 자체가 출력할 때마다 기본적으로 줄바꿈을 수행하기에 이로 인해 결국 줄바꿈을 결국
두 번한다.
따라서 줄바꾸기를 한 번 더 하는 것을 방지하기 위해서 문자열 자료형의 <code class="docutils literal notranslate"><span class="pre">strip()</span></code> 메소드를 활용하여
문자열의 양 끝에 있는 공백과 줄바꿈 기호를 없앨 수도 있다.</p>
<p>파일이 한글 문서를 담고 있다면 <code class="docutils literal notranslate"><span class="pre">open()</span></code> 메서드에 <code class="docutils literal notranslate"><span class="pre">encoding='utf-8'</span></code> 옵션 인자를 사용할 것을 추천한다.
또한 <code class="docutils literal notranslate"><span class="pre">mode='r'</span></code> 옵션인자를 이용하여 읽기 모드임을 명시하는 게 좋다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;./data/results5m.txt&quot;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">result_f</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">result_f</span><span class="p">:</span> 
        <span class="nb">print</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>이름  점수
권준기  7.13
김세윤  8.55
나진서  9.02
마동탁  8.35
서길석  7.86
이준용  8.17
이차승  9.33
차승연  7.11
표방호  8.57
한석준  8.93
</pre></div>
</div>
</div>
</div>
<p><strong><code class="docutils literal notranslate"><span class="pre">Path.open()</span></code> 메서드: 저장된 파일 불러오기</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">Path</span></code> 객체의 <code class="docutils literal notranslate"><span class="pre">open()</span></code> 메서드를 이용하여 파일을 열 수도 있다.
기본 사용법은 유사하다.
실제로 <code class="docutils literal notranslate"><span class="pre">Path</span></code> 객체의 <code class="docutils literal notranslate"><span class="pre">open()</span></code> 메서드를 호출하면 <code class="docutils literal notranslate"><span class="pre">open()</span></code> 함수가 실행된다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">target_path</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">result_f</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">result_f</span><span class="p">:</span> 
        <span class="nb">print</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>이름  점수
권준기  7.13
김세윤  8.55
나진서  9.02
마동탁  8.35
서길석  7.86
이준용  8.17
이차승  9.33
차승연  7.11
표방호  8.57
한석준  8.93
</pre></div>
</div>
</div>
</div>
<p>이제부터는 가급적 <code class="docutils literal notranslate"><span class="pre">Path</span></code> 객체의 메서드 위주로 사용할 것이다.</p>
<p><strong><code class="docutils literal notranslate"><span class="pre">mode</span></code> 옵션 인자</strong></p>
<p>다양한 모드 존재. …</p>
</div>
<div class="section" id="id3">
<h2><span class="section-number">15.2. </span>리스트 활용<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>앞서 파일 내용을 확인해 보았듯 각 줄마다 선수이름과 점수가 공백을 사이로 두고 각 줄에 적혀 있다.
따라서 아래와 같이 문자열 자료형의 <code class="docutils literal notranslate"><span class="pre">split</span></code> 메소드를 활용하여 각 줄을 쪼개어 두 번째 항목을 확인할 수 있다.</p>
<p>예를 들어, 둘째줄의 내용은 다음과 같다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">secondLine</span> <span class="o">=</span> <span class="s1">&#39;권준기 7.13</span><span class="se">\n</span><span class="s1">&#39;</span>
</pre></div>
</div>
</div>
</div>
<p>해당 줄을 <code class="docutils literal notranslate"><span class="pre">strip</span></code> 하면 줄바꿈 기호가 사라진다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">secondLine</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;권준기 7.13&#39;
</pre></div>
</div>
</div>
</div>
<p>이제 <code class="docutils literal notranslate"><span class="pre">split</span></code> 메서드를 사용하여 공백 기준으로 쪼개면 다음과 같다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">secondLine</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;권준기&#39;, &#39;7.13&#39;]
</pre></div>
</div>
</div>
</div>
<p>그런데 <code class="docutils literal notranslate"><span class="pre">strip</span></code> 메서드는 이제 굳이 필요없다.
<code class="docutils literal notranslate"><span class="pre">split</span></code> 메소드가 공백 기준으로 쪼개기 때문에
끝에 있는 줄바꿈도 함께 제거하기 때문이다.</p>
<p><strong>주의:</strong> 줄바꿈도 공백으로 간주된다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">secondLine</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;권준기&#39;, &#39;7.13&#39;]
</pre></div>
</div>
</div>
</div>
<div class="section" id="id4">
<h3><span class="section-number">15.2.1. </span>리스트 자료형 간략 소개<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>위에서 얻어지 값은 두 개의 항목으로 이루어진 <strong>리스트</strong>(<code class="docutils literal notranslate"><span class="pre">list</span></code>)이다.
리스트는 여러 개의 항목을 하나로 묶어서 들고 다닌다.
리스트 자료형에 대한 자세한 소개는
<a class="reference external" href="https://github.com/liganega/ProgInPython/blob/master/notebooks/PiPy04C-Lists.ipynb">기본 자료형: 리스트</a>를
참조한다.</p>
<p>지금 당장 리스트에 알아야 할 사항은 다음과 같다.</p>
<ul class="simple">
<li><p>여러 개의 값들을 담고 있는 모음 자료형</p></li>
<li><p>문자열처럼 왼편 항목에서부터 0, 1, 2, 3, … 등의 인덱스 부여</p></li>
</ul>
<p>리스트의 둘째 항목, 즉 1번 인덱스의 값이 바로 점수이다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">secondLine</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;7.13&#39;
</pre></div>
</div>
</div>
</div>
<p>확인된 점수가 숫자가 아니라 실수 모양의 문자열임에 주의해야 한다.
따라서 숫자로 다루고 싶다면 <code class="docutils literal notranslate"><span class="pre">float</span></code> 함수를 적용해야 한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">float</span><span class="p">(</span><span class="n">secondLine</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>7.13
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="id5">
<h2><span class="section-number">15.3. </span>점수 확인하기<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<p>이제 모든 줄이 동일한 모양을 갖고 있다는 점에 착안하여 아래와 같이 각각의 줄에 담긴
내용 중에서 점수에 해당하는 부분을 아래와 같이 확인할 수 있다.</p>
<p><strong>주의:</strong> 리스트의 색인도 문자열의 경우처럼 0부터 시작한다.
따라서 리스트의 둘째 항목의 색인은 1인다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">result_f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;./data/results5m.txt&quot;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> 
<span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;열고자 하는 파일이 존재하지 않습니다.&quot;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">result_f</span><span class="p">:</span> 
    <span class="n">record</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>          <span class="c1"># 공백으로 쪼개기</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">record</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

<span class="n">result_f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>점수
7.13
8.55
9.02
8.35
7.86
8.17
9.33
7.11
8.57
8.93
</pre></div>
</div>
</div>
</div>
<div class="section" id="id6">
<h3><span class="section-number">15.3.1. </span>1등 점수 확인하기<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<p>그런데 첫째 줄 내용은 점수를 비교하는 데에 필요없다.
따라서 무시하는 방법을 사용하도록 하자.
특정 줄을 무시하려면 그 줄이 갖지 않는 특성을 활용해야 한다.
실제로 첫째 줄은 <code class="docutils literal notranslate"><span class="pre">Score</span></code>라는 문자열이고
둘째 줄부터는 부동소수점 모양의 문자열이다.</p>
<p>1등 점수를 확인하려면 부동소수점 모양의 문자열이 아니라
진짜로 부동소수점을 다뤄야 한다.
따라서 <code class="docutils literal notranslate"><span class="pre">float</span></code> 함수를 이용하여 부동소수점 모양의 문자열을
진짜 부동소수점으로 변환해야 하는데,
첫째줄에서 다음과 같은 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> 오류가 발생할 것이다.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">float</span><span class="p">(</span><span class="s1">&#39;Score&#39;</span><span class="p">)</span>
<span class="go">ValueError                                Traceback (most recent call last)</span>
<span class="go">/tmp/ipykernel_3317/564178523.py in &lt;module&gt;</span>
<span class="go">----&gt; 1 float(&#39;Score&#39;)</span>

<span class="go">ValueError: could not convert string to float: &#39;Score&#39;</span>
</pre></div>
</div>
<p>따라서 첫째 줄에서 이와같은 오류가 발생할 것을 예상하고
이를 예외처리 기법으로 다루면 첫째줄을 무시할 수 있으며,
예를 들어 다음과 같이 할 수 있다.</p>
<p><strong>참고:</strong> <code class="docutils literal notranslate"><span class="pre">for</span></code> 또는 <code class="docutils literal notranslate"><span class="pre">while</span></code> 반복문에서 <code class="docutils literal notranslate"><span class="pre">continue</span></code> 명령문이 실행되면
실행을 정지하고 바로 해당 반복문의 처음으로 돌아가서 다음 반복을 실행한다.
<code class="docutils literal notranslate"><span class="pre">continue</span></code>에 대한 보다 자세한 설명은
<a class="reference external" href="https://opentutorials.org/course/2991/18056">처음코딩: break와 continue</a>를
참조한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">result_f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;./data/results5m.txt&quot;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> 
<span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;열고자 하는 파일이 존재하지 않습니다.&quot;</span><span class="p">)</span>

<span class="n">highst_score</span> <span class="o">=</span> <span class="mi">0</span>                   <span class="c1"># 1등 점수 저장</span>

<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">result_f</span><span class="p">:</span> 
    <span class="n">record</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>

    <span class="k">try</span><span class="p">:</span>                           <span class="c1"># 첫째 줄 제외</span>
        <span class="n">score</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">record</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">continue</span>                   <span class="c1"># 오류가 발생하는 줄 무시</span>

    <span class="k">if</span> <span class="n">highst_score</span> <span class="o">&lt;</span> <span class="n">score</span><span class="p">:</span>       <span class="c1"># 1등 점수와 비교</span>
        <span class="n">highst_score</span> <span class="o">=</span> <span class="n">score</span>       <span class="c1"># 1등 점수 갱신</span>

<span class="n">result_f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span> 

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;1등은 </span><span class="si">{</span><span class="n">highst_score</span><span class="si">}</span><span class="s2">점 입니다.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1등은 9.33점 입니다.
</pre></div>
</div>
</div>
</div>
<p><strong>주의:</strong> <code class="docutils literal notranslate"><span class="pre">else</span></code> 명령문은 필요하지 않은 경우 생략이 가능하다.</p>
</div>
<div class="section" id="id7">
<h3><span class="section-number">15.3.2. </span>2등, 3등 점수 확인하기<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<p>이제 2등 점수까지 확인해보자.
2등 점수를 기억할 변수가 하나 더 필요하며
확인된 점수가 기존의 1등 점수보다 큰지, 2등 점수보다 큰지 여부에 따라
1, 2등 점수를 기억하는 변수의 값들을
업데이트 해야 한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">result_f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;./data/results5m.txt&quot;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> 
<span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;열고자 하는 파일이 존재하지 않습니다.&quot;</span><span class="p">)</span>

<span class="n">highst_score</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">second_highst_score</span> <span class="o">=</span> <span class="mi">0</span>                    <span class="c1"># 2등 점수 저장</span>

<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">result_f</span><span class="p">:</span> 
    <span class="n">record</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>

    <span class="k">try</span><span class="p">:</span> 
        <span class="n">score</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">record</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">continue</span>

    <span class="k">if</span> <span class="n">highst_score</span> <span class="o">&lt;</span> <span class="n">score</span><span class="p">:</span>
        <span class="n">second_highst_score</span> <span class="o">=</span> <span class="n">highst_score</span>
        <span class="n">highst_score</span> <span class="o">=</span> <span class="n">score</span>
    <span class="k">elif</span> <span class="n">second_highst_score</span> <span class="o">&lt;</span> <span class="n">score</span><span class="p">:</span>      <span class="c1"># 2등 점수와 비교</span>
        <span class="n">second_highst_score</span> <span class="o">=</span> <span class="n">score</span>        <span class="c1"># 2등 점수 갱신</span>

<span class="n">result_f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span> 

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;1등은 </span><span class="si">{</span><span class="n">highst_score</span><span class="si">}</span><span class="s2">점 입니다.&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;2등은 </span><span class="si">{</span><span class="n">second_highst_score</span><span class="si">}</span><span class="s2">점 입니다.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1등은 9.33점 입니다.
2등은 9.02점 입니다.
</pre></div>
</div>
</div>
</div>
<p>그런데 위와 같은 식으로 3등 점수까지 확인하려면 더 많은 변수와 조건문을 사용해야 하며,
코드가 점점 길어진다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">result_f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;./data/results5m.txt&quot;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> 
<span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;열고자 하는 파일이 존재하지 않습니다.&quot;</span><span class="p">)</span>

<span class="n">highst_score</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">second_highst_score</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">third_highst_score</span> <span class="o">=</span> <span class="mi">0</span>                          <span class="c1"># 3등 점수 저장</span>

<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">result_f</span><span class="p">:</span> 
    <span class="n">record</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>

    <span class="k">try</span><span class="p">:</span> 
        <span class="n">score</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">record</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">continue</span>

    <span class="k">if</span> <span class="n">highst_score</span> <span class="o">&lt;</span> <span class="n">score</span><span class="p">:</span>
        <span class="n">third_highst_score</span> <span class="o">=</span> <span class="n">second_highst_score</span>
        <span class="n">second_highst_score</span> <span class="o">=</span> <span class="n">highst_score</span>
        <span class="n">highst_score</span> <span class="o">=</span> <span class="n">score</span>
    <span class="k">elif</span> <span class="n">second_highst_score</span> <span class="o">&lt;</span> <span class="n">score</span><span class="p">:</span>
        <span class="n">third_highst_score</span> <span class="o">=</span> <span class="n">second_highst_score</span>
        <span class="n">second_highst_score</span> <span class="o">=</span> <span class="n">score</span>
    <span class="k">elif</span> <span class="n">third_highst_score</span> <span class="o">&lt;</span> <span class="n">score</span><span class="p">:</span>             <span class="c1"># 3등 점수 확인</span>
        <span class="n">third_highst_score</span> <span class="o">=</span> <span class="n">score</span>               <span class="c1"># 3등 점수 갱신</span>

<span class="n">result_f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span> 

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;1등은 </span><span class="si">{</span><span class="n">highst_score</span><span class="si">}</span><span class="s2">점 입니다.&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;2등은 </span><span class="si">{</span><span class="n">second_highst_score</span><span class="si">}</span><span class="s2">점 입니다.&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;3등은 </span><span class="si">{</span><span class="n">third_highst_score</span><span class="si">}</span><span class="s2">점 입니다.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1등은 9.33점 입니다.
2등은 9.02점 입니다.
3등은 8.93점 입니다.
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id8">
<h3><span class="section-number">15.3.3. </span>프로그램 구상 문제<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p>4등, 5등, … 점수는 어떻게 구하나?
위와 같은 방식으로 진행하면 유사한 명령문을 복사-붙이기 형식으로
코드를 계속해서 수정해야 한다.
그런데 이렇게 원하는 등수에 따라 코드 자체가 수정되어야 한다면
프로그램 구상을 애초부터 잘못했다고 생각해야 한다.</p>
<p>위 코드의 근본적인 문제는 선수들의 점수를 따라따로 관리하는 데에 있다.
각 선수의 점수를 다른 선수의 점수와 비교해야 하는데
선수들의 점수를 하나로 모아서 관리할 수 있으면
선수들간의 비교를 보다 효율적으로 할 수 있다.</p>
<p>따라서 선수의 기록을 모아서 한꺼번에 처리하는 기술이 요구된다.
여기서는
<strong><a class="reference external" href="https://github.com/liganega/ProgInPython/blob/master/notebooks/PiPy04C-Lists.ipynb">리스트</a></strong>
자료형을 활용하여 선수들의 점수를 모은 후
리스트 자료형의 메서드를 활용하여 선수들간의 점수를 비교하는
보다 간단한 방법을 소개한다.</p>
</div>
</div>
<div class="section" id="id9">
<h2><span class="section-number">15.4. </span>프로그램 업그레이드 1: 리스트 정렬 활용<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h2>
<p>몇 등 점수를 알아내야 하는가와 상관없이 동일하게 작동하는
프로그램을 구현한다.</p>
<p>이를 위해 리스트를 활용하며, 프로그램 구상은 다음과 같다.</p>
<ul class="simple">
<li><p>서핑 대회 참가선수들의 기록들을 모아 놓은 리스트를 생성한다.</p></li>
<li><p>선수들의 기록을 점수 순으로 정렬한다.</p></li>
<li><p>정렬된 점수에서 원하는 등수의 점수를 추출한다.</p></li>
</ul>
<div class="section" id="id10">
<h3><span class="section-number">15.4.1. </span>리스트 풀어 헤치기<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<p>각각의 줄을 <code class="docutils literal notranslate"><span class="pre">split</span></code> 메서드로 쪼개면 길이가 2인 문자열들의 리스트가 된다.
따라서 각 항목의 값을 동시에 서로 다른 변수에 할당할 수 있다.
이것을 <strong>리스트 풀어헤치기</strong>(list unpacking)이라 부른다.</p>
<p>예를 들어, 권주기 선수의 경우 쪼개면 아래 결과이다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">secondLine</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;권준기&#39;, &#39;7.13&#39;]
</pre></div>
</div>
</div>
</div>
<p>따라서 리스트의 두 항목을 각각 두 개의 변수에 할당할 수 있다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nameKwon</span><span class="p">,</span> <span class="n">scoreKwon</span> <span class="o">=</span> <span class="n">secondLine</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;이름: </span><span class="si">{</span><span class="n">nameKwon</span><span class="si">}</span><span class="s2">, 점수: </span><span class="si">{</span><span class="n">scoreKwon</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>이름: 권준기, 점수: 7.13
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id11">
<h3><span class="section-number">15.4.2. </span>리스트 정렬<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<p>리스트의 항목들을 크기로 비교할 수 있다면 크기 순서대로 정렬할 수 있다.
예를 들어, 숫자와 문자열은 크기 비교가 가능하다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mf">2.3</span> <span class="o">&lt;</span> <span class="mf">3.5</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mf">2.3</span> <span class="o">&gt;</span> <span class="mf">3.5</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False
</pre></div>
</div>
</div>
</div>
<p>문자열의 경우 사전식으로 크기비교를 한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;hello&#39;</span> <span class="o">&lt;</span> <span class="s1">&#39;python&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p>소문자가 대문자보다 크다고 판단한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;a&#39;</span> <span class="o">&lt;</span> <span class="s1">&#39;A&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;Za&#39;</span> <span class="o">&lt;</span> <span class="s1">&#39;b&#39;</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p>따라서 숫자, 문자열 등으로 구성된 리스트는 정렬이 가능하다.
이를 위해, <code class="docutils literal notranslate"><span class="pre">sort</span></code> 메서드를 활용하며, 기본은 오름차순 정렬이다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">numList</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mf">6.3</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.1</span><span class="p">,</span> <span class="o">-</span><span class="mi">7</span><span class="p">]</span>
<span class="n">numList</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">numList</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[-7, -3.1, 1, 3, 6.3, 7, 10]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">strList</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;python&#39;</span><span class="p">,</span> <span class="s1">&#39;languag&#39;</span><span class="p">,</span> <span class="s1">&#39;is&#39;</span><span class="p">,</span> <span class="s1">&#39;good&#39;</span><span class="p">,</span> <span class="s1">&#39;for&#39;</span><span class="p">,</span> <span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="s1">&#39;science&#39;</span><span class="p">]</span>
<span class="n">strList</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">strList</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;data&#39;, &#39;for&#39;, &#39;good&#39;, &#39;is&#39;, &#39;languag&#39;, &#39;python&#39;, &#39;science&#39;]
</pre></div>
</div>
</div>
</div>
<p>내림차순으로 정렬하려면, <code class="docutils literal notranslate"><span class="pre">sort</span></code> 메서드의 옵션변수 <code class="docutils literal notranslate"><span class="pre">reverse</span></code>의 인자값으로 <code class="docutils literal notranslate"><span class="pre">True</span></code>를 사용하면 된다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">numList</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mf">6.3</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.1</span><span class="p">,</span> <span class="o">-</span><span class="mi">7</span><span class="p">]</span>
<span class="n">numList</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">numList</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[10, 7, 6.3, 3, 1, -3.1, -7]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">strList</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;python&#39;</span><span class="p">,</span> <span class="s1">&#39;languag&#39;</span><span class="p">,</span> <span class="s1">&#39;is&#39;</span><span class="p">,</span> <span class="s1">&#39;good&#39;</span><span class="p">,</span> <span class="s1">&#39;for&#39;</span><span class="p">,</span> <span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="s1">&#39;science&#39;</span><span class="p">]</span>
<span class="n">strList</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">strList</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;science&#39;, &#39;python&#39;, &#39;languag&#39;, &#39;is&#39;, &#39;good&#39;, &#39;for&#39;, &#39;data&#39;]
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id12">
<h3><span class="section-number">15.4.3. </span>1, 2, 3 등 확인하기<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<p>리스트 풀어헤치기와 리스트 정렬 기법을 이용하여 1, 2, 3등을 아래와 같이 확인할 수 있다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">result_f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;./data/results5m.txt&quot;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> 
<span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;열고자 하는 파일이 존재하지 않습니다.&quot;</span><span class="p">)</span>

<span class="n">score_list</span> <span class="o">=</span> <span class="p">[]</span>                           <span class="c1"># 점수 저장 용도 리스트 선언</span>

<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">result_f</span><span class="p">:</span> 
    <span class="n">name</span><span class="p">,</span> <span class="n">score</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>            <span class="c1"># 각 줄을 두 단어의 리스트로 쪼갠 후 풀어헤치기</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">score_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">score</span><span class="p">))</span>   <span class="c1"># 첫째 줄 제외. 숫자만 scores 리스트에 추가</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">continue</span>

<span class="n">result_f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span> 

<span class="n">score_list</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>             <span class="c1"># 리스트를 크기 기준 내림차순으로 정렬</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;1, 2, 3등의 점수는 다음과 같습니다.</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span> 
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;1등: </span><span class="si">{</span><span class="n">score_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>             <span class="c1"># 1등 점수 = 0번 인덱스 값</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;2등: </span><span class="si">{</span><span class="n">score_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>             <span class="c1"># 2등 점수 = 1번 인덱스 값</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;3등: </span><span class="si">{</span><span class="n">score_list</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>             <span class="c1"># 3등 점수 = 2번 인덱스 값</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1, 2, 3등의 점수는 다음과 같습니다.

1등: 9.33
2등: 9.02
3등: 8.93
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="id13">
<h2><span class="section-number">15.5. </span>프로그램 업그레이드 2: 함수 활용<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h2>
<p>앞서 살펴본 코드를 함수로 추상화하면 원하는 등수의 점수를 함수호출로 간단하게 확인할 수 있다.</p>
<div class="section" id="id14">
<h3><span class="section-number">15.5.1. </span>프로그램 구상<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>위 프로그램에서 변하는 부분은 등수와 관련된 부분이다.</p></li>
<li><p>즉, 등수에 해당하는 것만 제외하면 다른 부분은 전혀 변하지 않는다.</p></li>
<li><p>따라서 등수를 인자로 받는 함수로 추상화하면 된다.</p></li>
</ul>
<p>따라서 함수의 본체에 해당하는 부분은 다음과 같다.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">result_f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;./data/results5m.txt&quot;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> 
<span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;열고자 하는 파일이 존재하지 않습니다.&quot;</span><span class="p">)</span>

<span class="n">score_list</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">result_f</span><span class="p">:</span> 
    <span class="n">name</span><span class="p">,</span> <span class="n">score</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">score_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">score</span><span class="p">))</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">continue</span>

<span class="n">result_f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span> 

<span class="n">score_list</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>n등의 점수는 <code class="docutils literal notranslate"><span class="pre">score_list[n-1]</span></code>이다.
따라서 함수의 리턴값은 아래와 같다.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">return</span> <span class="n">score_list</span><span class="p">[</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<p>따라서 아래와 같이 랭킹(<code class="docutils literal notranslate"><span class="pre">ranking</span></code>) 함수를 정의할 수 있다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">ranking</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>                                     <span class="c1"># n등 점수 요구</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">result_f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;./data/results5m.txt&quot;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> 
    <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;열고자 하는 파일이 존재하지 않습니다.&quot;</span><span class="p">)</span>

    <span class="n">score_list</span> <span class="o">=</span> <span class="p">[]</span> 

    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">result_f</span><span class="p">:</span> 
        <span class="n">name</span><span class="p">,</span> <span class="n">score</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> 
        <span class="k">try</span><span class="p">:</span>
            <span class="n">score_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">score</span><span class="p">))</span> 
        <span class="k">except</span><span class="p">:</span>
            <span class="k">continue</span>
    <span class="n">result_f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span> 

    <span class="n">score_list</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> 
    
    <span class="k">return</span> <span class="n">score_list</span><span class="p">[</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>                          <span class="c1"># n등 점수 내주기</span>
</pre></div>
</div>
</div>
</div>
<p>이제 모든 등수의 점수를 쉽게 확일할 수 있다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ranking</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>9.33
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ranking</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>8.55
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id15">
<h3><span class="section-number">15.5.2. </span>함수 일반화<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<p>위 함수를 좀 더 일반화할 수 있다.
예를 들어, <code class="docutils literal notranslate"><span class="pre">results5m.txt</span></code>에 포함된 내용의 형식과 동일한 어떤
분야의 점수기록 파일도 동일한 함수로 각 분야별 등수를 확인할 수 있도록 해보자.</p>
<p>그러려면 먼저, <code class="docutils literal notranslate"><span class="pre">ranking</span></code> 함수에서 변하는 부분을 확인해야 하는데,
바로 점수기록을 담고 있는 파일명이 해당된다.
따라서 그 부분을 함수의 매개변수로 돌려 활용한다.
아래 <code class="docutils literal notranslate"><span class="pre">ranking</span></code> 함수의 정의에서 <code class="docutils literal notranslate"><span class="pre">fileName</span></code>이 파일명을 인자로 받아 함수 본체에
전달하는 매개변수이다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">ranking</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">fileName</span><span class="p">):</span>                         <span class="c1"># fileName 기록파일의 n등 점수 요구</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">result_f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">fileName</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> 
    <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;열고자 하는 파일이 존재하지 않습니다.&quot;</span><span class="p">)</span>

    <span class="n">score_list</span> <span class="o">=</span> <span class="p">[]</span> 

    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">result_f</span><span class="p">:</span> 
        <span class="n">name</span><span class="p">,</span> <span class="n">score</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> 
        <span class="k">try</span><span class="p">:</span>
            <span class="n">score_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">score</span><span class="p">))</span> 
        <span class="k">except</span><span class="p">:</span>
            <span class="k">continue</span>
    <span class="n">result_f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span> 

    <span class="n">score_list</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> 
    
    <span class="k">return</span> <span class="n">score_list</span><span class="p">[</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>                        <span class="c1"># fileName 기록파일의 n등 점수 내주기</span>
</pre></div>
</div>
</div>
</div>
<p>이제 <code class="docutils literal notranslate"><span class="pre">results5m.txt</span></code> 기록파일의 1등, 7등 점수는 다음과 같다.</p>
<p><strong>주의:</strong> 기록파일이 <code class="docutils literal notranslate"><span class="pre">data</span></code>라는 하위폴더에 들어있다고 가정한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ranking</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;./data/results5m.txt&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>9.33
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ranking</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="s1">&#39;./data/results5m.txt&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>8.17
</pre></div>
</div>
</div>
</div>
<p><a class="reference external" href="https://raw.githubusercontent.com/codingalzi/pybook/master/jupyter-book/data/results10m.txt">results10m.txt</a>는
동일한 선수들의 10m 다이빙 기록을 담고 있다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">path</span> <span class="o">=</span> <span class="s1">&#39;./data&#39;</span>
<span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://raw.githubusercontent.com/codingalzi/pybook/master/jupyter-book/data/results10m.txt&#39;</span>
<span class="n">fName</span> <span class="o">=</span> <span class="s1">&#39;results10m.txt&#39;</span>

<span class="n">myWget</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">fName</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">ipykernel_1672</span><span class="o">/</span><span class="mf">2215538898.</span><span class="n">py</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="n">fName</span> <span class="o">=</span> <span class="s1">&#39;results10m.txt&#39;</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> 
<span class="ne">----&gt; </span><span class="mi">5</span> <span class="n">myWget</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">fName</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;myWget&#39; is not defined
</pre></div>
</div>
</div>
</div>
<p>그러면 10m 다이빙 시합에서 1등과 7등의 점수는 다음과 같다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ranking</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;./data/results10m.txt&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>9.31
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ranking</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="s1">&#39;./data/results10m.txt&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>8.39
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="id16">
<h2><span class="section-number">15.6. </span>심화예제<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h2>
<p>다이빙 대회에 참가한 선수들의 기록을 다룬 파일보다 좀 더 많은 정보를 포함한
데이터 파일을 분석하고자 한다.
파일에 좀 더 많은 내용이 담겨있지만 데이터 분석 방법은 거의 동일하다.</p>
<p>안내: <a class="reference external" href="https://scipy-lectures.org/intro/numpy/operations.html#basic-reductions">SciPy Lecture: Basic Reductions</a>
내용을 참조합니다.</p>
<p>1900년부터 1920년까지 매년 토끼(rabbit), 스라소니(lynx), 당근(carrot)의 개체수를 조사한 자료가
<a class="reference external" href="https://raw.githubusercontent.com/codingalzi/pybook/master/jupyter-book/data/populations.txt">populations.txt</a>
파일에 저장되어 있다.
파일 내용을 확인하면 다음과 같다.</p>
<p><strong>주의:</strong> <code class="docutils literal notranslate"><span class="pre">populations.txt</span></code> 파일이 <code class="docutils literal notranslate"><span class="pre">data</span></code>라는 하위 디렉토리에 저장되어 있다고 가정하며,
아래 코드를 실행하면 자동으로 지정된 폴더에 저장된다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">path</span> <span class="o">=</span> <span class="s1">&#39;./data&#39;</span>
<span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://raw.githubusercontent.com/codingalzi/pybook/master/jupyter-book/data/populations.txt&#39;</span>
<span class="n">fName</span> <span class="o">=</span> <span class="s1">&#39;populations.txt&#39;</span>

<span class="n">myWget</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">fName</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>이제 저장된 파일을 열어보자. 이전과는 달리 아래 형식을 사용한다.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">파일명</span><span class="p">)</span> <span class="k">as</span> <span class="n">변수이름</span><span class="p">:</span>
    <span class="n">명령문</span>
</pre></div>
</div>
<p>위와같이 하면 지정된 명령문이 실행된 후 자동으로 파일을 닫는다.
따라서 위 형식은 아래 형식과 동일한 의미이다.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">변수이름</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">파일명</span><span class="p">)</span>
    <span class="n">명령문</span>
<span class="n">변수이름</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>먼저 파일 내용을 확인해보자.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;./data/populations.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">pop_file</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">pop_file</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>            <span class="c1"># strip 메소드로 양끝 공백 및 줄바꿈 기호 제거</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span># 연도	토끼	스라소니	당근
1900	30e3	4e3	48300
1901	47.2e3	6.1e3	48200
1902	70.2e3	9.8e3	41500
1903	77.4e3	35.2e3	38200
1904	36.3e3	59.4e3	40600
1905	20.6e3	41.7e3	39800
1906	18.1e3	19e3	38600
1907	21.4e3	13e3	42300
1908	22e3	8.3e3	44500
1909	25.4e3	9.1e3	42100
1910	27.1e3	7.4e3	46000
1911	40.3e3	8e3	46800
1912	57e3	12.3e3	43800
1913	76.6e3	19.5e3	40900
1914	52.3e3	45.7e3	39400
1915	19.5e3	51.1e3	39000
1916	11.2e3	29.7e3	36700
1917	7.6e3	15.8e3	41800
1918	14.6e3	9.7e3	43300
1919	16.2e3	10.1e3	41300
1920	24.7e3	8.6e3	47300
</pre></div>
</div>
</div>
</div>
<p>위 코드에서, 예를 들어, <code class="docutils literal notranslate"><span class="pre">47.2e3</span></code>는 47.2 곱하기 10의 3승이다.
즉,</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mf">47.2e3</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>47200.0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mf">47.2e3</span> <span class="o">==</span> <span class="mf">47.2</span> <span class="o">*</span> <span class="mi">1000</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<div class="section" id="id17">
<h3><span class="section-number">15.6.1. </span>당근 개체수의 최대값 구하기<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h3>
<p>이제 당근 개체수가 가장 많았을 때의 값을 알아내고자 하며,
앞서 사용한 기술을 그대로 따라하기 위해 <code class="docutils literal notranslate"><span class="pre">split</span></code> 메소드를 활용한다.</p>
<p><code class="docutils literal notranslate"><span class="pre">results5m.txt</span></code> 파일과의 차이점은 두 가지이다.</p>
<ul class="simple">
<li><p>맨 윗줄에 항목에 대한 설명이 있지만 주석을 의미하는 샵(<code class="docutils literal notranslate"><span class="pre">#</span></code>) 기호로 시작한다.
이 특징을 활용하여 예외처리 대신에 조건문을 사용할 수 있다.</p></li>
<li><p>각 줄별로 세 개의 공백이 사용되어서, <code class="docutils literal notranslate"><span class="pre">split</span></code> 메소드를 실행하면
네 개의 문자열로 쪼개질 것이다.
각각의 항목은 차례대로 연도, 토끼 개체수, 스라소니 개체수, 당근 개체수를 가리킨다.
따라서 길이가 4인 리스트가 생성되며,
풀어헤치기를 하려면, 예를 들어, year, rabbit, lynx, carrot 등
네 개의 변수를 사용해야 한다.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;./data/populations.txt&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">pop_file</span><span class="p">:</span>
    <span class="n">populations</span> <span class="o">=</span> <span class="p">[]</span>                                   <span class="c1"># 개체수 저장 리스트 선언</span>

    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">pop_file</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;#&#39;</span><span class="p">):</span>                       <span class="c1"># 샵으로 시작하는 맨 윗줄 건너뛰기</span>
            <span class="k">continue</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">year</span><span class="p">,</span> <span class="n">rabbit</span><span class="p">,</span> <span class="n">lynx</span><span class="p">,</span> <span class="n">carrot</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>  <span class="c1"># 각 줄은 네 개의 숫자로 쪼개짐</span>
            <span class="n">populations</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">rabbit</span><span class="p">))</span>           <span class="c1"># 토끼 개체수만 저장함</span>

<span class="n">populations</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>                        

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;토끼 개체수의 최대값은 </span><span class="si">{</span><span class="n">populations</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">이다.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>토끼 개체수의 최대값은 77400.0이다.
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id18">
<h3><span class="section-number">15.6.2. </span>함수화<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h3>
<p>위 코드를 응용하여 연도별 토끼 개체수를 리턴하는 <code class="docutils literal notranslate"><span class="pre">rabbitNumber</span></code> 함수를 구현할 수 있다.
아래 사항에 주의해야 한다.</p>
<ul class="simple">
<li><p>연도별로 토끼 개체수를 확인하려면 정렬(sorting)을 사용하지 말아야 한다.</p></li>
<li><p>인자로 1900 ~ 1920 사이의 값이 사용된다.</p>
<ul>
<li><p>1900년도 토끼의 개체수는 0번 색인을 가진다.</p></li>
<li><p>1920년도 토끼의 개체수는 20번 색인을 가진다.</p></li>
<li><p>따라서 특정 년도의 토끼 개체수가 위치하는 항목의 인덱스는
해당 연도에서 1900을 빼야 한다.</p></li>
</ul>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">rabbitNumber</span><span class="p">(</span><span class="n">yr</span><span class="p">):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;./data/populations.txt&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">pop_file</span><span class="p">:</span>
        <span class="n">populations</span> <span class="o">=</span> <span class="p">[]</span>                          

        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">pop_file</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;#&#39;</span><span class="p">):</span>              
                <span class="k">continue</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">year</span><span class="p">,</span> <span class="n">rabbit</span><span class="p">,</span> <span class="n">lynx</span><span class="p">,</span> <span class="n">carrot</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> 
                <span class="n">populations</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">rabbit</span><span class="p">))</span>           
    
    <span class="k">return</span> <span class="n">populations</span><span class="p">[</span><span class="n">yr</span><span class="o">-</span><span class="mi">1900</span><span class="p">]</span>      <span class="c1"># 연도에서 1900을 빼야 해당연도의 인덱스가 됨</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rabbitNumber</span><span class="p">(</span><span class="mi">1900</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>30000.0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rabbitNumber</span><span class="p">(</span><span class="mi">1920</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>24700.0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rabbitNumber</span><span class="p">(</span><span class="mi">1911</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>40300.0
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="id19">
<h2><span class="section-number">15.7. </span>연습문제<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h2>
<ol class="simple">
<li><p>2등 점수를 확인하는 코드를 아래와 같이 구현할 경우 어떤 문제가 발생하는지 설명하라.</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">result_f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;./data/results5m.txt&quot;</span><span class="p">)</span> 
<span class="n">highst_score</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">second_highst_score</span> <span class="o">=</span> <span class="mi">0</span>                    <span class="c1"># 2등 점수 저장</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">result_f</span><span class="p">:</span> 
     <span class="n">record</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
     <span class="k">try</span><span class="p">:</span> 
        <span class="n">score</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">record</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
     <span class="k">except</span><span class="p">:</span>
        <span class="k">continue</span>
     <span class="k">if</span> <span class="n">highst_score</span> <span class="o">&lt;</span> <span class="n">score</span><span class="p">:</span>               <span class="c1"># 1, 2등 점수 갱신 경우 확인</span>
        <span class="n">highst_score</span> <span class="o">=</span> <span class="n">score</span>
     <span class="k">elif</span> <span class="n">second_highst_score</span> <span class="o">&lt;</span> <span class="n">score</span><span class="p">:</span>      <span class="c1"># 2등 점수 갱신 경우 확인</span>
        <span class="n">second_highst_score</span> <span class="o">=</span> <span class="n">score</span>
     <span class="k">else</span><span class="p">:</span>
        <span class="k">continue</span>
<span class="n">result_f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span> 
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;2등 점수는&quot;</span><span class="p">,</span> <span class="n">second_highst_score</span><span class="p">,</span> <span class="s2">&quot;입니다.&quot;</span><span class="p">)</span>
</pre></div>
</div>
<br>
1. `max` 함수를 이용하여 `ranking` 함수를 구현하라.
<br><br>
1. `rabbitNumber` 함수를 예를 들어 1921을 인자로 사용하여 호출하면 오류가 발생한다. 
    `rabbitNumber` 함수를 아래 조건이 만족되도록 수정하라.
    * 예외처리를 이용하여 1900~1920을 벗어나는 년도를 인자로 사용하면 아래 문자열이 출력되도록 한다. 
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt; &quot;해당년도 데이터가 존재하지 않습니다.&quot;
</pre></div>
</div>
<ol>
<li><p><code class="docutils literal notranslate"><span class="pre">rabitNumber</span></code> 함수를 수정하여 연도와 함께 생물종류 또한 인자로 활용하는 함수
<code class="docutils literal notranslate"><span class="pre">populationNumber</span></code> 함수를 구현하라.
예를 들어, 다음이 성립해야 한다.</p>
<blockquote>
<div><p>populationNumber(1915, ‘rabit’) = rabitNumber(1915)</p>
</div></blockquote>
</li>
</ol>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="collections3.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title"><span class="section-number">14. </span>모음 자료형 3부: 이터러블, 이터레이터, 제너레이터</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="modules.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">16. </span>모듈</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By 코딩알지 & HJ<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>