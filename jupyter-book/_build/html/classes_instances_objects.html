

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>16. 클래스, 인스턴스, 객체 &#8212; 파이썬 프로그래밍</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'classes_instances_objects';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="17. 상속" href="inheritance.html" />
    <link rel="prev" title="15. 객체 지향 프로그래밍" href="oop.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
  
    <p class="title logo__title">파이썬 프로그래밍</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="programming.html">1. 컴퓨터 프로그래밍</a></li>
<li class="toctree-l1"><a class="reference internal" href="environment.html">2. 프로그램 개발 환경</a></li>
<li class="toctree-l1"><a class="reference internal" href="starting.html">3. 프로그래밍 맛보기</a></li>
<li class="toctree-l1"><a class="reference internal" href="variables_expressions.html">4. 변수, 값, 표현식</a></li>
<li class="toctree-l1"><a class="reference internal" href="functions.html">5. 함수</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">6. 모듈</a></li>
<li class="toctree-l1"><a class="reference internal" href="conditionals.html">7. 조건문</a></li>
<li class="toctree-l1"><a class="reference internal" href="iterations.html">8. 반복문</a></li>
<li class="toctree-l1"><a class="reference internal" href="turtle_graphics.html">9. 거북이 그래픽</a></li>
<li class="toctree-l1"><a class="reference internal" href="exception_handling.html">10. 프로그램 오류와 예외 처리</a></li>
<li class="toctree-l1"><a class="reference internal" href="strings.html">11. 문자열</a></li>
<li class="toctree-l1"><a class="reference internal" href="lists_tuples.html">12. 리스트와 튜플</a></li>
<li class="toctree-l1"><a class="reference internal" href="dicts_sets.html">13. 사전과 집합</a></li>
<li class="toctree-l1"><a class="reference internal" href="files.html">14. 파일</a></li>
<li class="toctree-l1"><a class="reference internal" href="oop.html">15. 객체 지향 프로그래밍</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">16. 클래스, 인스턴스, 객체</a></li>
<li class="toctree-l1"><a class="reference internal" href="inheritance.html">17. 상속</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules_advanced.html">18. (부록) 모듈 고급 활용법</a></li>
<li class="toctree-l1"><a class="reference internal" href="iterator_generator.html">19. (부록) 이터러블, 이터레이터, 제너레이터</a></li>
<li class="toctree-l1"><a class="reference internal" href="recursion.html">20. (부록) 재귀 함수</a></li>
<li class="toctree-l1"><a class="reference internal" href="proper_classes.html">21. (부록) 클래스의 기본 요소</a></li>
<li class="toctree-l1"><a class="reference internal" href="type_annotations.html">22. (부록) 자료형 힌트</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://colab.research.google.com/github/codingalzi/pybook/blob/master/jupyter-book/classes_instances_objects.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onColab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/codingalzi/pybook" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/codingalzi/pybook/issues/new?title=Issue%20on%20page%20%2Fclasses_instances_objects.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/classes_instances_objects.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>클래스, 인스턴스, 객체</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">16.1. 주요 내용</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">16.1.1. 객체 교감: 충돌 감지</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">16.1.2. 클래스, 인스턴스, 객체?</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">16.2. 클래스 선언과 생성자</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">16.2.1. 클래스 선언</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">16.2.2. 생성자</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">16.3. 인스턴스와 객체</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">16.3.1. 인스턴스 생성</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">16.3.2. 인스턴스 변수와 속성</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">16.3.3. 인스턴스 메서드</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">16.4. 스프라이트 충돌</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#oop">16.5. OOP의 핵심</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">16.6. 연습문제</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">16.7. 연습문제</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="ch-classes-instances-objects">
<span id="id1"></span><h1><span class="section-number">16. </span>클래스, 인스턴스, 객체<a class="headerlink" href="#ch-classes-instances-objects" title="Permalink to this heading">#</a></h1>
<p><strong>감사의 글</strong></p>
<p>아래 내용은 <a class="reference external" href="https://www.youtube.com/watch?v=bFURdsszto0">(유튜브) Python Game Coding: Introduction to Collision Detection</a>의 내용을 참고합니다.</p>
<p><strong>준비사항</strong></p>
<p>여기서 사용하는 코드는 두 객체의 충돌을 감지하는 다양한 방법을 보여주며,
<a class="reference external" href="https://replit.com/&#64;codingrg/collisiondetection#main.py">(레플릿) 충돌 감지</a>에서
확인하고 직접 실행할 수 있다.
오프라인 환경에서 실행하려면 먼저 아래 코드의 실행에 필요한
<a class="reference external" href="https://github.com/codingalzi/pybook/raw/master/jupyter-book/codes/collision_detection.zip">이미지 파일과 소스코드</a>를
다운로드해서 압축을 푼 다음에 <code class="docutils literal notranslate"><span class="pre">collision_dection.py</span></code> 파일을 실행하면 된다.</p>
<section id="id2">
<h2><span class="section-number">16.1. </span>주요 내용<a class="headerlink" href="#id2" title="Permalink to this heading">#</a></h2>
<section id="id3">
<h3><span class="section-number">16.1.1. </span>객체 교감: 충돌 감지<a class="headerlink" href="#id3" title="Permalink to this heading">#</a></h3>
<p>객체의 이동과 충돌 감지를 지원하는 클래스를 선언하고 활용하는
과정을 상세히 소개한다.</p>
<p><strong>충돌이 감지되는 경우</strong></p>
<p>아래 두 그림은 팩맨 객체와 체리 객체의 충돌 이전과 이후를 보여준다.
오른쪽 팩맨이 체리와 접촉하는 순간 체리가 X 자로 변하여 잡아먹히는 장면이다.</p>
<table>
    <tr>
        <td style="padding:1px">
            <figure>
                <img src="https://raw.githubusercontent.com/codingalzi/pybook/master/jupyter-book/images/collision_detection1a.png" style="width:100%" title="객체 충돌 전">
                <figcaption>충돌 전</figcaption>
            </figure>
        </td>
        <td style="padding:1px">
            <figure>
                <img src="https://raw.githubusercontent.com/codingalzi/pybook/master/jupyter-book/images/collision_detection2.png" style="width:100%" title="객체 충돌 후">
                <figcaption>충돌 후</figcaption>
            </figure>
        </td>        
    </tr>
</table><p><strong>충돌이 감지되지 못하는 경우</strong></p>
<p>반면에 아래 두 그림은 팩맨 객체와 체리 객체가 서로의 충돌을 감지하지 못하여 그냥 통과하는 장면을 보여준다.</p>
<table>
    <tr>
        <td style="padding:1px">
            <figure>
                <img src="https://raw.githubusercontent.com/codingalzi/pybook/master/jupyter-book/images/collision_detection1b.png" style="width:100%" title="객체 충돌 미감지">
                <figcaption>충돌 미감지</figcaption>
            </figure>
        </td>
        <td style="padding:1px">
            <figure>
                <img src="https://raw.githubusercontent.com/codingalzi/pybook/master/jupyter-book/images/collision_detection1c.png" style="width:100%" title="객체 통과 후">
                <figcaption>그냥 통과</figcaption>
            </figure>
        </td>        
    </tr>
</table></section>
<section id="id4">
<h3><span class="section-number">16.1.2. </span>클래스, 인스턴스, 객체?<a class="headerlink" href="#id4" title="Permalink to this heading">#</a></h3>
<p>객체<font size='2'>object</font>는 특정 클래스<font size='2'>class</font>의 인스턴스로 생성된다.
즉, 클래스는 활용하고자 하는 객체<font size='2'>object</font>를
인스턴스<font size='2'>instance</font>로 생성할 때 사용되는 설계도에 해당하며,
생성되는 인스턴스가 갖는 속성을 지정하고 활용하는 함수를 정의한다.</p>
<ul class="simple">
<li><p>속성<font size='2'>attribute</font>: 클래스에서 선언된 변수. 인스턴스의 속성 저장.</p></li>
<li><p>메서드<font size='2'>method</font>: 클래스에서 선언된 함수. 인스턴스의 기능 지정.</p></li>
</ul>
<p>클래스의 인스턴스를 생성할 때 속성이 지정되며,
생성된 인스턴스는 해당 클래스의 모든 메서드(기능)를 사용할 수 있다.</p>
</section>
</section>
<section id="id5">
<h2><span class="section-number">16.2. </span>클래스 선언과 생성자<a class="headerlink" href="#id5" title="Permalink to this heading">#</a></h2>
<p>아래 그림에 있는 스프라이트 객체를 생성할 때 사용되는 클래스를 선언하면서
클래스 선언에 필요한 요소들을 하나씩 살펴 본다.</p>
<p><div align="center" border="1px"><img src="https://raw.githubusercontent.com/codingalzi/pybook/master/jupyter-book/images/collision_detection1.png" width="500"/></div></p><p><strong>기본 세팅</strong></p>
<p>도화지 객체 <code class="docutils literal notranslate"><span class="pre">wn</span></code>과 거북이 객체 <code class="docutils literal notranslate"><span class="pre">pen</span></code>을 준비한다.
또한 스프라이트에 사용될 사진 7 개를 거북이 객체의 모양 라이브러리에 추가한다.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">turtle</span>
<span class="kn">import</span> <span class="nn">math</span>

<span class="c1"># 도화지 객체 설정</span>
<span class="n">wn</span> <span class="o">=</span> <span class="n">turtle</span><span class="o">.</span><span class="n">Screen</span><span class="p">()</span>
<span class="n">wn</span><span class="o">.</span><span class="n">bgcolor</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
<span class="n">wn</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Collision Detection&quot;</span><span class="p">)</span>
<span class="n">wn</span><span class="o">.</span><span class="n">tracer</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>     <span class="c1"># 도화지 내용 한 번에 업데이트 되도록 지정</span>

<span class="c1"># 거북이 객체 설정</span>
<span class="n">pen</span> <span class="o">=</span> <span class="n">turtle</span><span class="o">.</span><span class="n">Turtle</span><span class="p">()</span>
<span class="n">pen</span><span class="o">.</span><span class="n">speed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>     <span class="c1"># 가장 빠르게 이동</span>
<span class="n">pen</span><span class="o">.</span><span class="n">hideturtle</span><span class="p">()</span> <span class="c1"># 숨김</span>

<span class="c1"># 스프라이트 이미지 7개 등</span>
<span class="n">shapes</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;wizard.gif&quot;</span><span class="p">,</span> <span class="s2">&quot;goblin.gif&quot;</span><span class="p">,</span> 
          <span class="s2">&quot;pacman.gif&quot;</span><span class="p">,</span> <span class="s2">&quot;cherry.gif&quot;</span><span class="p">,</span>
          <span class="s2">&quot;bar.gif&quot;</span><span class="p">,</span> <span class="s2">&quot;ball.gif&quot;</span><span class="p">,</span> <span class="s2">&quot;x.gif&quot;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">shape</span> <span class="ow">in</span> <span class="n">shapes</span><span class="p">:</span>
    <span class="n">wn</span><span class="o">.</span><span class="n">register_shape</span><span class="p">(</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
<p>위 코드에 사용된 객체와 메서드의 기능은 다음과 같다.</p>
<ul class="simple">
<li><p>거북이 객체 <code class="docutils literal notranslate"><span class="pre">pen</span></code>: 모양은 마우스를 이용하여 선택된 스프라이트의 이미지로 지정된다.
마우스 클릭으로 선택된 스프라이트의 이동은 따라서 <code class="docutils literal notranslate"><span class="pre">pen</span></code> 객체를 지정된 위치로 이동 시킨 후 도장을 찍는 방식으로 구현한다.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pen.hideturtle()</span></code>: 거북이 객체 <code class="docutils literal notranslate"><span class="pre">pen</span></code>을 보이지 않도록 지정하기에 이동할 때 선은 그려지지 않는다.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pen.speed(0)</span></code>: 거북이 객체의 이동 속도를 가장 빠르게 지정. 1이면 가장 느리고, 10일 때 빨라진다.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">wn.tracer(0)</span></code>: 거북이 객체 <code class="docutils literal notranslate"><span class="pre">pen</span></code>이 지정된 위치로 이동할 때마다 찍는 스프라이트 이미지를 하나씩이 아닌
화면이 전환될 때마다 한꺼번에 실행되도록 설정한다.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">wn.register_shape()</span></code>: 거북이 객체의 모양으로 활용될 수 이미지를 등록한다.</p></li>
</ul>
<section id="id6">
<h3><span class="section-number">16.2.1. </span>클래스 선언<a class="headerlink" href="#id6" title="Permalink to this heading">#</a></h3>
<p>스프라이트들의 클래스를 정의해보자.
클래스 정의는 다음 형식으로 이루어진다.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Sprite</span><span class="p">:</span>
    <span class="o">...</span>
    <span class="c1"># 속성 지정 및 메서드 선언</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Sprite</span></code> 클래스의 속성으로 스프라이트의 모양에 대한 정보 등이 저장된다.
<code class="docutils literal notranslate"><span class="pre">Sprite</span></code> 클래스가 제공해야 하는 메서드로
예를 들어 스프라이트의 이동, 충돌감지 기능 등이 포함된다.</p>
</section>
<section id="id7">
<h3><span class="section-number">16.2.2. </span>생성자<a class="headerlink" href="#id7" title="Permalink to this heading">#</a></h3>
<p>모든 파이썬 클래스는 해당 클래스의 <strong>인스턴스</strong><font size='2'>instance</font>를 생성하는 <strong>생성자</strong>를 포함해야 한다.
파이썬 클래스의 생성자는 항상 <code class="docutils literal notranslate"><span class="pre">__init__()</span></code> 함수로 구현된다.
생성자는 인자로 받는 값을 생성하는 인스턴스의 속성<font size='2'>attributes</font>으로 지정한다.
예를 들어 아래 코드에서 선언되는 <code class="docutils literal notranslate"><span class="pre">Sprite</span></code> 클래스의 생성자는 생성되는 객체의 처음 위치, 크기, 모양 등을 결정하는 요소를 지정한다.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Sprite</span><span class="p">:</span>
    <span class="c1"># 생성자: 스프라이트의 위치, 가로/세로 크기, 이미지 지정</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>  <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">image</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        x: x-좌표</span>
<span class="sd">        y: y-좌표</span>
<span class="sd">        width: 가로 크기</span>
<span class="sd">        height: 세로 크기</span>
<span class="sd">        image: 모양</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">height</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">image</span>
</pre></div>
</div>
<div class="info admonition">
<p class="admonition-title">인스턴스 초기 설정</p>
<p>엄밀히 말하면 <code class="docutils literal notranslate"><span class="pre">__init__()</span></code> 함수는 객체를 생성하는 게 아니라
생성되는 객체의 초기 설정을 담당하지만
생성자라는 표현이 일반적으로 사용된다.</p>
</div>
</section>
</section>
<section id="id8">
<h2><span class="section-number">16.3. </span>인스턴스와 객체<a class="headerlink" href="#id8" title="Permalink to this heading">#</a></h2>
<p><strong>객체</strong><font size='2'>object</font>는 특정 클래스의 인스턴스를 부를 때 사용한다.
<code class="docutils literal notranslate"><span class="pre">Sprite</span></code> 클래스의 인스턴스를 이용하여 객체가 갖는 속성과 기능을 설명한다.</p>
<section id="id9">
<h3><span class="section-number">16.3.1. </span>인스턴스 생성<a class="headerlink" href="#id9" title="Permalink to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Sprite</span></code> 클래스의 <strong>인스턴스</strong><font size='2'>instance</font>를 생성하는 방식은 다음과 같다.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">wizard</span> <span class="o">=</span> <span class="n">Sprite</span><span class="p">(</span><span class="o">-</span><span class="mi">128</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="s2">&quot;wizard.gif&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>그러면 생성자 함수 <code class="docutils literal notranslate"><span class="pre">__init__()</span></code>가 아래 인자들과 함께 호출된다.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>-128, 200, 128, 128, &quot;wizard.gif&quot;
</pre></div>
</div>
<p>메모리 상에서 <code class="docutils literal notranslate"><span class="pre">wizard</span></code> 변수가 가리키는 스프라이트 객체는 아래와 같이 구성된다.</p>
<p><div align="center" border="1px"><img src="https://raw.githubusercontent.com/codingalzi/pybook/master/jupyter-book/images/Sprite1.png" width="75%"></div></p><p><strong><code class="docutils literal notranslate"><span class="pre">self</span></code>의 기능</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">wizard</span> <span class="pre">=</span> <span class="pre">Sprite(-128,</span> <span class="pre">200,</span> <span class="pre">128,</span> <span class="pre">128,</span> <span class="pre">&quot;wizard.gif&quot;)</span></code> 방식으로 변수 할당이 실행되면
파이썬 실행기<font size='2'>interpreter</font>는 다음을 싱행한다.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="fm">__init__</span><span class="p">(</span><span class="n">wizard</span><span class="p">,</span> <span class="o">-</span><span class="mi">128</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="s2">&quot;wizard.gif&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>즉, <code class="docutils literal notranslate"><span class="pre">self</span></code> 매개변수는 현재 생성되는 객체를 인자로 사용한다.</p>
</section>
<section id="id10">
<h3><span class="section-number">16.3.2. </span>인스턴스 변수와 속성<a class="headerlink" href="#id10" title="Permalink to this heading">#</a></h3>
<p><strong>인스턴스 변수</strong><font size='2'>instance variable</font>는
클래스 내부에서 <code class="docutils literal notranslate"><span class="pre">self</span></code>와 함께 선언된 변수를 가리킨다.
앞서 선언된 <code class="docutils literal notranslate"><span class="pre">Sprite</span></code> 클래스의 인스턴스 변수는 아래 방식으로 선언된 <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code>, <code class="docutils literal notranslate"><span class="pre">width</span></code>, <code class="docutils literal notranslate"><span class="pre">height</span></code>, <code class="docutils literal notranslate"><span class="pre">image</span></code> 다섯 개다.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">x</span>
<span class="bp">self</span><span class="o">.</span><span class="n">y</span>
<span class="bp">self</span><span class="o">.</span><span class="n">width</span>
<span class="bp">self</span><span class="o">.</span><span class="n">height</span>
<span class="bp">self</span><span class="o">.</span><span class="n">image</span>
</pre></div>
</div>
<p>인스턴스 변수는 해당 클래스의 영역<font size='2'>scope</font>에서만 의미를 가지며,
일반적으로 생성자가 실행되는 동안 선언되지만
클래스 내부 어디에서도 선언될 수 있다.</p>
<p>클래스의 인스턴스는 인스턴스 변수가 가리키는 값을 속성으로 갖는다.
이런 의미에서 인스턴스 변수가 가리키는 값을
<strong>인스턴스 속성</strong><font size="2">instance attribute</font>이라 부른다.
즉, 인스턴스 속성은 클래스의 인스턴스가 생성될 때만 의미를 갖는다.</p>
<p>인스턴스 변수 이외에 <code class="docutils literal notranslate"><span class="pre">self</span></code> 를 사용하지 않는
<strong>클래스 변수</strong><font size='2'>class variable</font> 가 선언될 수도 있지만
여기서는 다루지 않는다.</p>
<p><strong><code class="docutils literal notranslate"><span class="pre">__init__()</span></code> 함수의 매개 변수와 인스턴스 변수</strong></p>
<p>함수를 호출할 때 매개 변수를 통해 함수 내부로 전달되는 인자는 해당 함수의 본문에서만 사용될 수 있다.
반면에 <code class="docutils literal notranslate"><span class="pre">self.x</span></code>, <code class="docutils literal notranslate"><span class="pre">self.width</span></code> 처럼 클래스 내부 어딘가에서 선언되는 인스턴스 변수는 클래스 내부 어디에서든 사용될 수 있다.</p>
<p><code class="docutils literal notranslate"><span class="pre">Sprite</span></code> 클래스의 생성자인 <code class="docutils literal notranslate"><span class="pre">__init__()</span></code> 함수 내부에서 선언된 다섯 개의 인스턴스 변수명이 동일하지만
이것은 의무사항이 아니다.
여기서는 함수 내부에서 굳이 다른 변수명을 사용할 이유가 없기에 동일한 변수명을 사용했을 뿐이다.
실제로 함수의 매개 변수와 클래스 내부에서 선언된 변수의 기능은 완전히 다르기 때문에 서로 충돌하지 않는다.</p>
<p>프로그래밍 입문자에게 조금은 난해할` 수도 있기 때문에 아래와 같이 다른 변수명을 사용할 수도 있어지만 일부러 그러지 않았다.
이유는 많은 프로그래머가 유사한 방식으로 인스턴스 변수를 선언하기 때문이다.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x_param</span><span class="p">,</span> <span class="n">y_param</span><span class="p">,</span> <span class="n">width_param</span><span class="p">,</span> <span class="n">height_param</span><span class="p">,</span> <span class="n">image_param</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x_param</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y_param</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">width_param</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">height_param</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">image_param</span>
</pre></div>
</div>
</section>
<section id="id11">
<h3><span class="section-number">16.3.3. </span>인스턴스 메서드<a class="headerlink" href="#id11" title="Permalink to this heading">#</a></h3>
<p>생성자 <code class="docutils literal notranslate"><span class="pre">__init__()</span></code> 함수처럼 클래스 내부에 선언된 함수를 <strong>메서드</strong><font size='2'>method</font>라 부른다.
메서드는 크게 인스턴스 메서드, 클래스 메서드, 정적 메서드로 나뉘며 여기서는 인스턴스 메서드만 소개한다.</p>
<p>인스턴스 메서드의 첫재 매개 변수가 항상 <code class="docutils literal notranslate"><span class="pre">self</span></code>이며,
생성자 <code class="docutils literal notranslate"><span class="pre">__init__()</span></code> 함수 또한 이런 의미에서 인스턴스 메서드다.
아래 코드는 <code class="docutils literal notranslate"><span class="pre">render()</span></code> 인스턴스 메서드를 추가하는 방식으로 <code class="docutils literal notranslate"><span class="pre">Sprite</span></code> 클래스를 새로 정의한다.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Sprite</span><span class="p">():</span>
    
    <span class="c1"># 생성자: 스프라이트의 위치, 가로/세로 크기, 이미지 지정</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>  <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">image</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        x: x-좌표</span>
<span class="sd">        y: y-좌표</span>
<span class="sd">        width: 가로 크기</span>
<span class="sd">        height: 세로 크기</span>
<span class="sd">        image: 모양</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">height</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">image</span>
        
    <span class="c1"># 지정된 위치로 스프라이트 이동 후 도장 찍기</span>
    <span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pen</span><span class="p">):</span>
        <span class="n">pen</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
        <span class="n">pen</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="p">)</span>
        <span class="n">pen</span><span class="o">.</span><span class="n">stamp</span><span class="p">()</span>
</pre></div>
</div>
</section>
</section>
<section id="id12">
<h2><span class="section-number">16.4. </span>스프라이트 충돌<a class="headerlink" href="#id12" title="Permalink to this heading">#</a></h2>
<p>스프라이트들의 충동을 감지하는 전체 코드를 확인한다.</p>
<p>각 스프라이트 객체는 지정된 위치로의 이동 및 자신의 이미지를 보여주는 기능을
수행하는 <code class="docutils literal notranslate"><span class="pre">render()</span></code> 메서드와 함께
다른 스프라이트와의 충돌을 감지하는 기능을 갖는 세 종류의 메서드를 갖는다.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Sprite</span><span class="p">():</span>
    
    <span class="c1">## 생성자: 스프라이트의 위치, 가로/세로 크기, 이미지 지정</span>
    
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">image</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">height</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">image</span>

    <span class="c1">## 스프라이트 메서드</span>
    
    <span class="c1"># 지정된 위치로 스프라이트 이동 후 도장 찍기</span>
    <span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pen</span><span class="p">):</span>
        <span class="n">pen</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
        <span class="n">pen</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="p">)</span>
        <span class="n">pen</span><span class="o">.</span><span class="n">stamp</span><span class="p">()</span>
            
    <span class="c1"># 충돌 감지 방법 1: 두 스프라이트의 중심이 일치할 때 충돌 발생</span>
    <span class="k">def</span> <span class="nf">is_overlapping_collision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">x</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">y</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
            
    <span class="c1"># 충돌 감지 방법 2: 두 스프라이트 사이의 거리가 두 객체의 너비의 평균값 보다 작을 때 충돌 발생</span>
    <span class="k">def</span> <span class="nf">is_distance_collision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="n">distance</span> <span class="o">=</span> <span class="p">(((</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="o">-</span><span class="n">other</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="o">-</span><span class="n">other</span><span class="o">.</span><span class="n">y</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span><span class="p">))</span> <span class="o">**</span> <span class="mf">0.5</span>
        <span class="k">if</span> <span class="n">distance</span> <span class="o">&lt;</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">+</span> <span class="n">other</span><span class="o">.</span><span class="n">width</span><span class="p">)</span><span class="o">/</span><span class="mf">2.0</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        
    <span class="c1"># 충돌 감지 방법 3: 각각의 스프라이트를 둘러썬 경계상자가 겹칠 때 충돌 발생</span>
    <span class="c1"># aabb: Axis Aligned Bounding Box</span>
    <span class="k">def</span> <span class="nf">is_aabb_collision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="n">x_collision</span> <span class="o">=</span> <span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">fabs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="n">other</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">&lt;</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">+</span> <span class="n">other</span><span class="o">.</span><span class="n">width</span><span class="p">)</span>
        <span class="n">y_collision</span> <span class="o">=</span> <span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">fabs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">other</span><span class="o">.</span><span class="n">y</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">&lt;</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">+</span> <span class="n">other</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">x_collision</span> <span class="ow">and</span> <span class="n">y_collision</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition-self-other admonition">
<p class="admonition-title"><code class="docutils literal notranslate"><span class="pre">self</span></code> 와 <code class="docutils literal notranslate"><span class="pre">other</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">f14.__add__(f12)</span></code> 이  실행되면 실제로는 <code class="docutils literal notranslate"><span class="pre">__add__()</span></code> 메서드가 다음과 같이 호출된다.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="fm">__add__</span><span class="p">(</span><span class="n">f14</span><span class="p">,</span> <span class="n">f12</span><span class="p">)</span>
</pre></div>
</div>
<p>즉, <code class="docutils literal notranslate"><span class="pre">self=f14</span></code>, <code class="docutils literal notranslate"><span class="pre">other=f12</span></code> 가 인자로 사용된다.
하지만 <code class="docutils literal notranslate"><span class="pre">f14</span></code> 를 기준(self)으로 해서 다른 값(other)과의 연산을 실행한다는 의미를
강조하기 위해 관행적으로 <code class="docutils literal notranslate"><span class="pre">self</span></code> 와 <code class="docutils literal notranslate"><span class="pre">other</span></code> 를 매개변수로 사용한다.</p>
<p>이런 관행은 덧셈과 동등성 비교 등 모든 이항 연산자를 정의할 때 활용된다.
예를 들어 <code class="docutils literal notranslate"><span class="pre">f1</span> <span class="pre">==</span> <span class="pre">f2</span></code>,
즉 <code class="docutils literal notranslate"><span class="pre">f1.__eq__(f2)</span></code>는 파이썬 실행기의 내부에서 <code class="docutils literal notranslate"><span class="pre">__eq__(f1,</span> <span class="pre">f2)</span></code> 로 처리된다.</p>
</div>
<p><strong>스프라이트 객체 생성</strong></p>
<p>위 그림에 포함된 6 종류의 스프라이트 객체를 생성한다.
스프라이트 중심의 x, y 좌표, 길이와 너비, 이미지 등이 지정된다.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">wizard</span> <span class="o">=</span> <span class="n">Sprite</span><span class="p">(</span><span class="o">-</span><span class="mi">128</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="s2">&quot;wizard.gif&quot;</span><span class="p">)</span>
<span class="n">goblin</span> <span class="o">=</span> <span class="n">Sprite</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">108</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="s2">&quot;goblin.gif&quot;</span><span class="p">)</span>

<span class="n">pacman</span> <span class="o">=</span> <span class="n">Sprite</span><span class="p">(</span><span class="o">-</span><span class="mi">128</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="s2">&quot;pacman.gif&quot;</span><span class="p">)</span>
<span class="n">cherry</span> <span class="o">=</span> <span class="n">Sprite</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="s2">&quot;cherry.gif&quot;</span><span class="p">)</span>

<span class="n">bar</span> <span class="o">=</span> <span class="n">Sprite</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">400</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="s2">&quot;bar.gif&quot;</span><span class="p">)</span>
<span class="n">ball</span> <span class="o">=</span> <span class="n">Sprite</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">200</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="s2">&quot;ball.gif&quot;</span><span class="p">)</span>

<span class="c1"># 스프라이트 모음 리스트</span>
<span class="n">sprites</span> <span class="o">=</span> <span class="p">[</span><span class="n">wizard</span><span class="p">,</span> <span class="n">goblin</span><span class="p">,</span> <span class="n">pacman</span><span class="p">,</span> <span class="n">cherry</span><span class="p">,</span> <span class="n">bar</span><span class="p">,</span> <span class="n">ball</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>이벤트와 콜백 함수</strong></p>
<p>마우스 클릭, 버튼 누루기, 키 입력 등을 사용하여
영향을 미치는 사건을 <strong>이벤트</strong><font size='2'>event</font>라 부르며,
이벤트에 반응하도록 프로그램을 작성하는 것이
<strong>이벤트 처리</strong>다.
여기서는 <code class="docutils literal notranslate"><span class="pre">goblin</span></code>, <code class="docutils literal notranslate"><span class="pre">pacman</span></code>, <code class="docutils literal notranslate"><span class="pre">ball</span></code> 객체를 각각 왼쪽, 오른쪽, 아래 방향으로
움직이도록 하는 이벤트를 설정한다.</p>
<p>이벤트 처리에 사용되는 함수를 <strong>콜백</strong><font size='2'>callback</font>라 부르는데
사용하는 패키지, 모듈 등에 따라 콜백 함수가 사용되는 방식이 달라진다.
<code class="docutils literal notranslate"><span class="pre">turtle</span></code> 모듈의 경우 <code class="docutils literal notranslate"><span class="pre">Screen.listen()</span></code> 메서드를 이용한다.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 고블린 이동</span>
<span class="k">def</span> <span class="nf">move_goblin</span><span class="p">():</span>
    <span class="n">goblin</span><span class="o">.</span><span class="n">x</span> <span class="o">-=</span> <span class="mi">64</span>

<span class="c1"># 팩맨 이동</span>
<span class="k">def</span> <span class="nf">move_pacman</span><span class="p">():</span>
    <span class="n">pacman</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="mi">30</span>
    
<span class="c1"># 야구공 이동</span>
<span class="k">def</span> <span class="nf">move_ball</span><span class="p">():</span>
    <span class="n">ball</span><span class="o">.</span><span class="n">y</span> <span class="o">-=</span> <span class="mi">24</span>

<span class="c1"># 이벤트 처리</span>
<span class="n">wn</span><span class="o">.</span><span class="n">listen</span><span class="p">()</span>
<span class="n">wn</span><span class="o">.</span><span class="n">onkeypress</span><span class="p">(</span><span class="n">move_goblin</span><span class="p">,</span> <span class="s2">&quot;Left&quot;</span><span class="p">)</span>  <span class="c1"># 왼쪽 방향 화살표 입력</span>
<span class="n">wn</span><span class="o">.</span><span class="n">onkeypress</span><span class="p">(</span><span class="n">move_pacman</span><span class="p">,</span> <span class="s2">&quot;Right&quot;</span><span class="p">)</span> <span class="c1"># 오른쪽 방향 화살표 입력</span>
<span class="n">wn</span><span class="o">.</span><span class="n">onkeypress</span><span class="p">(</span><span class="n">move_ball</span><span class="p">,</span> <span class="s2">&quot;Down&quot;</span><span class="p">)</span>    <span class="c1"># 아래방향 화살표 입력</span>
</pre></div>
</div>
<p><strong>게임 실행</strong></p>
<p>게임 실행 중에 화살표 키가 입력될 때마다 지정된 콜백 함수가 실행되어
의도된 스프라이트가 이동한다.
이동하다가 다른 스프라이트와 충돌하면 해당 스프라이트가 X 모양의 이미지로 변경된다.</p>
<p><div align="center" border="1px"><img src="https://raw.githubusercontent.com/codingalzi/pybook/master/jupyter-book/images/collision_detection2.png" width="500"/></div></p><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    
    <span class="c1"># 각 스프라이트 위치 이동 및 도장 찍기</span>
    <span class="k">for</span> <span class="n">sprite</span> <span class="ow">in</span> <span class="n">sprites</span><span class="p">:</span>
        <span class="n">sprite</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">pen</span><span class="p">)</span>
        
    <span class="c1"># 충돌 여부 확인</span>
    <span class="k">if</span> <span class="n">wizard</span><span class="o">.</span><span class="n">is_overlapping_collision</span><span class="p">(</span><span class="n">goblin</span><span class="p">):</span>
        <span class="n">wizard</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="s2">&quot;x.gif&quot;</span>
        
    <span class="k">if</span> <span class="n">pacman</span><span class="o">.</span><span class="n">is_overlapping_collision</span><span class="p">(</span><span class="n">cherry</span><span class="p">):</span>
        <span class="n">cherry</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="s2">&quot;x.gif&quot;</span>
        
    <span class="k">if</span> <span class="n">bar</span><span class="o">.</span><span class="n">is_overlapping_collision</span><span class="p">(</span><span class="n">ball</span><span class="p">):</span>
        <span class="n">ball</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="s2">&quot;x.gif&quot;</span>
        
    <span class="n">wn</span><span class="o">.</span><span class="n">update</span><span class="p">()</span> <span class="c1"># 화면 업데이트</span>
    <span class="n">pen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span> <span class="c1"># 스프라이트 이동흔적 삭제</span>
</pre></div>
</div>
<div class="info admonition">
<p class="admonition-title">프레임</p>
<p>앞선 코드의 <code class="docutils literal notranslate"><span class="pre">while</span></code> 반복문이 한 번 실행되는 과정을 <strong>프레임</strong><font size='2'>frame</font>이라 부른다.
1초 길이의 동영상에 사용된 사진의 수로 동영상의 프레임을 지정하는 방식과 유사한 개념이다.
컴퓨터의 경우 초당 훨씬 많은 수의 프레임이 돌아갈 수 있지만 ‘
프레임에 포함된 코드의 실행 시간에 따라 다르다.</p>
</div>
</section>
<section id="oop">
<h2><span class="section-number">16.5. </span>OOP의 핵심<a class="headerlink" href="#oop" title="Permalink to this heading">#</a></h2>
<p>매 프레임마다 아래 코드가 반복적으로 실행된다.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">wizard</span><span class="o">.</span><span class="n">is_overlapping_collision</span><span class="p">(</span><span class="n">goblin</span><span class="p">):</span>
        <span class="n">wizard</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="s2">&quot;x.gif&quot;</span>
</pre></div>
</div>
<p>즉, <code class="docutils literal notranslate"><span class="pre">wizard</span></code> 가 <code class="docutils literal notranslate"><span class="pre">goblin</span></code> 과 충돌하면 마법사의 이미지를 X 모양으로 변경한다.
그런데 마법사가 고블린과 충돌하는지를 어떻게 감지하는가?
<code class="docutils literal notranslate"><span class="pre">wizard</span></code> 객체의 <code class="docutils literal notranslate"><span class="pre">is_overlapping_collision()</span></code> 메서드가
자신과 <code class="docutils literal notranslate"><span class="pre">goblin</span></code> 객체의 위치, 길이, 너비 정보를 이용하여 알아낸다.
즉, 두 객체 사이에 정보를 주고 받는다.</p>
<p>이처럼 객체들 사이에 주고 받을 수 있는 정보를 이용하여 객체의 상태와 행동을
결정하는 프로그래밍 기법이 바로 객체 지향 프로그래밍이다.</p>
</section>
<section id="id13">
<h2><span class="section-number">16.6. </span>연습문제<a class="headerlink" href="#id13" title="Permalink to this heading">#</a></h2>
<p>참고: <a class="reference external" href="https://colab.research.google.com/github/codingalzi/pybook/blob/master/practices/practice-casestudy_oop.ipynb">(실습) 사례 연구: 객체 지향 프로그래밍</a></p>
</section>
<section id="id14">
<h2><span class="section-number">16.7. </span>연습문제<a class="headerlink" href="#id14" title="Permalink to this heading">#</a></h2>
<p>참고: <a class="reference external" href="https://colab.research.google.com/github/codingalzi/pybook/blob/master/practices/practice-classes_instances_objects.ipynb">(실습) 클래스, 인스턴스, 객체</a></p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="oop.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">15. </span>객체 지향 프로그래밍</p>
      </div>
    </a>
    <a class="right-next"
       href="inheritance.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">17. </span>상속</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">16.1. 주요 내용</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">16.1.1. 객체 교감: 충돌 감지</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">16.1.2. 클래스, 인스턴스, 객체?</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">16.2. 클래스 선언과 생성자</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">16.2.1. 클래스 선언</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">16.2.2. 생성자</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">16.3. 인스턴스와 객체</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">16.3.1. 인스턴스 생성</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">16.3.2. 인스턴스 변수와 속성</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">16.3.3. 인스턴스 메서드</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">16.4. 스프라이트 충돌</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#oop">16.5. OOP의 핵심</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">16.6. 연습문제</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">16.7. 연습문제</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By 코딩알지 & HJ
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>